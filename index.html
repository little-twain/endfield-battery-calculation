<!doctype html>
<html lang="zh-CN">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>电池分流计算器</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;600&family=IBM+Plex+Mono:wght@400;600&family=IBM+Plex+Sans:wght@400;600&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <div id="grid-pattern" aria-hidden="true"></div>
  <canvas id="particles" aria-hidden="true"></canvas>
  <div class="app">
    <header class="hero">
      <div class="hero-title">
        <span class="hero-kicker">Endfield</span>
        <h1>电池分流计算器</h1>
        <p>为避免断电，建议留出一定的备用电量。</p>
      </div>
      <div class="hero-status">
        <div class="status-card">
          <div class="status-label">计算模式</div>
          <div class="status-value">本地浏览器</div>
        </div>
        <a
          class="status-card status-card--link"
          href="https://github.com/little-twain/endfield-battery-calculation/blob/main/README.md"
          target="_blank"
          rel="noopener noreferrer"
        >
          <div class="status-value status-with-icon">
            <svg class="github-icon" viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M12 2.2c-5.4 0-9.8 4.4-9.8 9.8 0 4.3 2.8 8 6.7 9.3.5.1.7-.2.7-.5v-1.9c-2.7.6-3.3-1.1-3.3-1.1-.4-1.1-1-1.4-1-1.4-.8-.5.1-.5.1-.5.9.1 1.4.9 1.4.9.8 1.4 2.1 1 2.6.7.1-.6.3-1 .5-1.3-2.2-.3-4.6-1.1-4.6-4.9 0-1.1.4-2 1-2.8-.1-.2-.4-1.2.1-2.5 0 0 .8-.3 2.7 1 .8-.2 1.7-.4 2.6-.4.9 0 1.8.1 2.6.4 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.5.6.8 1 1.7 1 2.8 0 3.8-2.3 4.6-4.6 4.9.3.3.6.9.6 1.8v2.7c0 .3.2.6.7.5 3.9-1.3 6.7-5 6.7-9.3 0-5.4-4.4-9.8-9.8-9.8z" />
            </svg>
            <span>使用说明</span>
          </div>
        </a>
      </div>
    </header>

    <main class="grid">
      <section class="card">
        <h2>输入参数</h2>
        <form id="calc-form" class="form">
          <div class="form-grid">
            <div class="form-fields">
              <label class="field">
                <span>功率值</span>
                <input id="energy" type="text" inputmode="numeric" placeholder="例如 1600" />
              </label>
              <label class="field">
                <span>持续时间</span>
                <input id="time" type="text" inputmode="numeric" placeholder="例如 40" />
              </label>
              <label class="field">
                <span>目标功率</span>
                <input id="target" type="text" inputmode="numeric" placeholder="例如 4800" />
              </label>
              <label class="field">
                <span>最大分流器数量(建议 ≤ 10)</span>
                <input id="maxGates" type="text" inputmode="numeric" placeholder="例如 10" value="10" />
              </label>
              <label class="field">
                <span>电池输入速率 (传送带默认为0.5)</span>
                <input id="t" type="text" placeholder="例如 0.5 或 10" value="0.5" />
              </label>
            </div>
            <aside class="preset-panel">
              <h3>电池预设</h3>
              <label class="field">
                <span>选择预设</span>
                <select id="preset">
                  <option value="">自定义</option>
                  <option value="source-ore">源矿</option>
                  <option value="valley-low">低容谷地电池</option>
                  <option value="valley-mid">中容谷地电池</option>
                  <option value="valley-high">高容谷地电池</option>
                  <option value="wuling-low">低容武陵电池</option>
                </select>
              </label>
              <p class="preset-hint">选择后会自动填充功率值与持续时间。</p>
            </aside>
          </div>

          <div class="actions">
            <button type="submit">开始计算</button>
            <button type="button" id="reset">重置</button>
          </div>
        </form>
        <div id="warnings" class="warnings" role="status" aria-live="polite"></div>
      </section>

      <section class="card">
        <h2>计算结果</h2>
        <div class="result">
          <pre id="result">请输入参数后点击开始计算。</pre>
        </div>
      </section>
    </main>

    <footer class="footer">
      <span>关注雫るる喵！关注雫るる谢谢喵！</span>
    </footer>
  </div>

  <script src="./app.js"></script>
</body>

</html>
